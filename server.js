const express = require('express');
const app = express();
const session = require('express-session'); 
const morgan = require('morgan');
const errorHandler = require('errorhandler');
const bodyParser = require('body-parser');
const cors = require('cors');
const mongoose = require('mongoose');
const multer = require('multer');
const GridFsStorage = require('multer-gridfs-storage');
const Grid = require('gridfs-stream');
const https = require('https');
const fs = require('fs');
const path = require('path');
const foo = require('./foo');
const util = require('util');
const nodemailer = require('nodemailer');
const _ = require('underscore');
const axios = require('axios');
const http = require('http');
const router = express.Router();
const serveStatic = require('serve-static');
const history = require('connect-history-api-fallback');
const User = require('./models/UserModel');
const Post = require('./models/PostModel');
const NotificationModel = require('./models/NotificationModel');
const Community = require('./models/CommunityModel');
const Thread = require('./models/ThreadModel');
const Event = require('./models/EventModel');
const { resolveSoa } = require('dns');
const { json } = require('body-parser');

//Set up nodemailer 
const transporter = nodemailer.createTransport({
    service: 'emailService',
    auth: {
        user: 'email',
        pass: 'pass',
    },
});


let dbUri = "mongodbdatabase";

mongoose.connect(dbUri);

var conn = mongoose.createConnection(dbUri);

const certs = {
    cert: fs.readFileSync(path.join(__dirname, '/certs/cert.pem')),
    key: fs.readFileSync(path.join(__dirname, '/certs/key.pem')),
};

//Handle storage for image and file binary data in MongoDB.
conn.once('open', () => {
    // Init Stream
    gfs = Grid(conn.db, mongoose.mongo);
    gfs.collection('uploads');
});

// Create Storage Engine
const storage = new GridFsStorage({
    url: dbUri,
    file: (req, file) => {
      return new Promise((resolve, reject) => {
          const filename = Date.now() + "-" + file.fieldname + path.extname(file.originalname);
          const fileInfo = {
            filename: filename,
            bucketName: 'uploads'
          };
          resolve(fileInfo);
        });
    }
});

//Create The Sound Cloud Songs For Listening 
const songs = [
    {
        artist: 'Chris Brown',
        song: 'Restroom Occupied',
        code: '<iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/652030553&color=%23b27890&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/yellabeezy214" title="Yella Beezy" target="_blank" style="color: #cccccc; text-decoration: none;">Yella Beezy</a> · <a href="https://soundcloud.com/yellabeezy214/restroom-occupied-feat-chris" title="Restroom Occupied (feat. Chris Brown)" target="_blank" style="color: #cccccc; text-decoration: none;">Restroom Occupied (feat. Chris Brown)</a></div>',
        src: 'data:image/jpeg;base64,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',
    },
    {
        artist: 'Drake',
        song: 'Laugh Now Cry Later',
        code: '<iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/875168761&color=%23b27890&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/octobersveryown" title="octobersveryown" target="_blank" style="color: #cccccc; text-decoration: none;">octobersveryown</a> · <a href="https://soundcloud.com/octobersveryown/drake-laugh-now-cry-later-feat" title="Drake - Laugh Now Cry Later (feat. Lil Durk)" target="_blank" style="color: #cccccc; text-decoration: none;">Drake - Laugh Now Cry Later (feat. Lil Durk)</a></div>',
        src: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSHy1HZtMFXyPOHoqsNWvyV19BVV6pKdyfBGg&usqp=CAU',
    },
    {
        artist: 'Lil Uzi Vert',
        song: 'Daville',
        code: '<iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/616281075&color=%23b27890&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/heyslatt" title="HeySlatt" target="_blank" style="color: #cccccc; text-decoration: none;">HeySlatt</a> · <a href="https://soundcloud.com/heyslatt/lil-uzi-vert-and-kgibbs-daville" title="LIL UZI VERT AND K.GIBBS-DAVILLE" target="_blank" style="color: #cccccc; text-decoration: none;">LIL UZI VERT AND K.GIBBS-DAVILLE</a></div>',
        src: 'data:image/jpeg;base64,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'
    },
    {
        artist: 'Rod Wave',
        song: 'Rags2Riches',
        code: '<iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/788581789&color=%23b27890&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/rodwave" title="Rod Wave" target="_blank" style="color: #cccccc; text-decoration: none;">Rod Wave</a> · <a href="https://soundcloud.com/rodwave/rags2riches" title="Rags2Riches (feat. ATR Son Son)" target="_blank" style="color: #cccccc; text-decoration: none;">Rags2Riches (feat. ATR Son Son)</a></div>',
        src: 'data:image/jpeg;base64,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'
    },
    {
        artist: 'Lil Uzi Vert',
        song: 'Hours Minutes Seconds',
        code: '<iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/882158080&color=%23b27890&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/1600tyler" title="LIL UZI VERT" target="_blank" style="color: #cccccc; text-decoration: none;">LIL UZI VERT</a> · <a href="https://soundcloud.com/1600tyler/hours-minutes-seconds-1" title="Hours Minutes Seconds" target="_blank" style="color: #cccccc; text-decoration: none;">Hours Minutes Seconds</a></div>',
        src: 'data:image/jpeg;base64,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',
    },
    {
        artist: 'Lil Uzi Vert',
        song: 'Zoom',
        code: '<iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/664763651&color=%23b27890&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/user-147278636" title="Michael Heil" target="_blank" style="color: #cccccc; text-decoration: none;">Michael Heil</a> · <a href="https://soundcloud.com/user-147278636/lil-uzi-vert-zoom-official-audio-4" title="Lil Uzi Vert- Zoom (Official Audio)" target="_blank" style="color: #cccccc; text-decoration: none;">Lil Uzi Vert- Zoom (Official Audio)</a></div>',
        src: 'https://i1.sndcdn.com/artworks-000640264258-2uwumb-t500x500.jpg',
    },
    {
        artist: 'Rod Wave',
        song: 'And I Still',
        code: '<iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/824580523&color=%23b27890&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/rodwave" title="Rod Wave" target="_blank" style="color: #cccccc; text-decoration: none;">Rod Wave</a> · <a href="https://soundcloud.com/rodwave/and-i-still" title="And I Still" target="_blank" style="color: #cccccc; text-decoration: none;">And I Still</a></div>',
        src: 'data:image/jpeg;base64,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'
    },
    {
        artist: 'Roddy Rich',
        song: 'Rockstar',
        code: '<iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/801561094&color=%23b27890&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=false&visual=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/earrape-songs-215922911" title="Devo Reverbs" target="_blank" style="color: #cccccc; text-decoration: none;">Devo Reverbs</a> · <a href="https://soundcloud.com/earrape-songs-215922911/dababy-rockstar-ft-roddy-rich-slowed-reverb" title="dababy - rockstar ft roddy rich (slowed + reverb)" target="_blank" style="color: #cccccc; text-decoration: none;">dababy - rockstar ft roddy rich (slowed + reverb)</a></div>',
        src: 'https://i.ytimg.com/vi/83xBPCw5hh4/sddefault.jpg',
    },
    {
        artist: 'Trippie Redd',
        song: 'Super Saiyan',
        code: '<iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/585236922&color=%23b27890&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/thatslief" title="LIEf" target="_blank" style="color: #cccccc; text-decoration: none;">LIEf</a> · <a href="https://soundcloud.com/thatslief/super-saiyan-14-trippie-redd-remix" title="super saiyan 14 (trippie redd remix)" target="_blank" style="color: #cccccc; text-decoration: none;">super saiyan 14 (trippie redd remix)</a></div>',
        src: 'data:image/jpeg;base64,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',
    }
];

//Create Multer Storage For Uploads
const uploads = multer({ storage });
app.set('port', process.env.PORT || 8081);
app.set('appName', 'Linkkup App');

app.use(bodyParser.json());
app.use(bodyParser.urlencoded({extended: true}));
app.use(morgan('dev'));
app.use(errorHandler());
app.use(session({secret: '9jg349ig9gjr93r9gjgr92jgr92gr9', resave: true, saveUninitialized: true, cookie: {maxAge: 3600000}}));
app.use(cors());
app.use(history({
    rewrites: [
      {
        from: /^\/api\/.*$/,
        to: function(context) {
            return context.parsedUrl.path
        }
      }
    ]
 }))
app.use(serveStatic(__dirname + '/dist'));

router.get('/', (req, res) => {
    res.json({message: 'Welcome To The Linkkup API!'});
});

//Route to serve photos in a get request based on the file name.
app.get('/api/get-photo', (req, res) => {
    let photo = req.query.photo;
    gfs.files.findOne({ filename: photo }, (err, file) => {
        // Check if file
        if (!file || file.length === 0) {
          console.log('Could Not Find The Photo');
          return res.status(404).json({
            err: 'No file exists'
          });
        }
        else {
            let readstream = gfs.createReadStream(file.filename);
            readstream.pipe(res);
        }
    });
});
//---------------------------------------------------------------------------------------------------------------------------------------
//The route below will serve a community avatar based on community name 
app.get('/api/community/avatar/:name', (req, res) => {
    let name = req.params.name;

    Community.findOne({name: name}, (err, community) => {
        if(err) {
            res.status(404).send('not found');
        }
        else {
            let photo = community.avatar;
            gfs.files.findOne({ filename: photo }, (err, file) => {
                // Check if file
                if (!file || file.length === 0) {
                  console.log('Could Not Find The Photo');
                  return res.status(404).json({
                    err: 'No file exists'
                  });
                }
                else {
                    let readstream = gfs.createReadStream(file.filename);
                    readstream.pipe(res);
                }
            });
        }
    });
});
//---------------------------------------------------------------------------------------------------------------------------------------
//Route To Serve Video
app.get('/api/get-video', (req, res) => {
    let video = req.query.video;
    gfs.files.findOne({ filename: video }, (err, file) => {
        // Check if file
        if (!file || file.length === 0) {
          console.log('Could Not Find The Video');
          return res.status(404).json({
            err: 'No file exists'
          });
        }
        else {
            //let readstream = gfs.createReadStream(file.filename);
            //readstream.pipe(res);
            if (req.headers['range']) {
                let parts = req.headers['range'].replace(/bytes=/, "").split("-");
                let partialstart = parts[0];
                let partialend = parts[1];
    
                let start = parseInt(partialstart, 10);
                let end = partialend ? parseInt(partialend, 10) : file.length - 1;
                let chunksize = (end - start) + 1;
    
                res.writeHead(206, {
                    'Accept-Ranges': 'bytes',
                    'Content-Length': chunksize,
                    'Content-Range': 'bytes ' + start + '-' + end + '/' + file.length,
                    'Content-Type': file.contentType
                });
                gfs.createReadStream({
                    _id: file._id,
                    range: {
                        startPos: start,
                        endPos: end
                    }
                }).pipe(res);
            }
            else {
                res.header('Content-Length', file.length);
                res.header('Content-Type', file.contentType);

                gfs.createReadStream({
                    _id: file._id
                }).pipe(res);
            }
        }
    });
});
//-------------------------------------------------------------------------------------------------------------------------------------------

/*app.use('/', router);
let userControllerRoute = require('./controllers/userController');
userControllerRoute.controller(app, uploads);
let postControllerRoute = require('./controllers/postController');
postControllerRoute.postsController(app, uploads);*/

app.post('/createUser', uploads.single('avatar'), (req, res) => {
    try {
        let username = req.body.username //Get the username from the request object to make sure it is not taken.
        //Below we will use the User model to make sure the username is not taken.
        User.findOne({username: username}, (err, result) => {
            if(err) {
                throw err;
                console.log(err.message);
                res.status(500).send('Error Validating Unique Username On Sign Up');
            }
            else {
                if(result) {
                    res.status(200).send('username taken');
                }
                else {
                    //Now, Check Which Fields Are Optional And See If They Have Values 
                    let fraternity;
                    let sorority;
                    let twitterHandle;
                    let instagramHandle;
                    let youtubeChannel;
                    let sport;
                    let verifiedUser;
                    if(!req.body.fraternity) {
                        fraternity = '';
                    }
                    else {
                        fraternity = req.body.fraternity;
                    }
                    if(!req.body.sorority) {
                        sorority = '';
                    }
                    else {
                        sorority = req.body.sorority;
                    }
                    if(!req.body.twitterHandle) {
                        twitterHandle = '';
                    }
                    else {
                        twitterHandle = req.body.twitterHandle;
                    }
                    if(!req.body.instagramHandle) {
                        instagramHandle = '';
                    }
                    else {
                        instagramHandle = req.body.instagramHandle;
                    }
                    if(!req.body.youtubeChannel) {
                        youtubeChannel = '';
                    }
                    else {
                        youtubeChannel = req.body.youtubeChannel;
                    }
                    if(req.body.sport === '') {
                        sport = '';
                        verifiedUser = false;
                    }
                    else {
                        sport = req.body.sport;
                        verifiedUser = true;
                    }
                    //Create Their First Notification Which Is A Welcome Message From Linkkup
                    let currentDate = new Date();
                    let hours = currentDate.getHours();
                    let minutes = currentDate.getMinutes();
                    let months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Nov', 'Dec'];
                    let month = months[currentDate.getMonth()];
                    let date = currentDate.getDate();
                    let year = currentDate.getFullYear();
                    let amOrPm = (hours >= 12) ? 'pm' : 'am';
                    if(hours === 24) {
                        hours = 12;
                    }
                    else if(amOrPm === 'pm') {
                        hours = hours % 12;
                    }
                    if(minutes < 10) {
                        minutes = '0' + minutes;
                    }
                    if(hours === 0) {
                        hours = 12;
                    }
                    let signUpNotification = new NotificationModel({
                        senderUsername: 'Linkkup',
                        msg: 'Welcome to Linkkup!',
                        uniqueSenderId: '',
                        notificationType: 'welcomeMessage',
                        notificationDate: `${month} ${date} ${year}`,
                        notificationUtcTime: parseInt(Date.now()),
                        notificationLink: '#',
                        uniqueNotificationId: 'notification' + username + Date.now(),
                    });
                    //Get each interest and split it to put in array 
                    let topics = req.body.interests.split(',');
                    let interests = [];
                    topics.forEach(function(interest, index) {
                        interests.push(interest);
                    });
                    //Below, create a new user model get all of the required fields so that we can add them to the User model.
                    let newUser = new User({
                        username: username,
                        password: req.body.password,
                        firstName: req.body.firstName,
                        lastName: req.body.lastName,
                        email: req.body.email,
                        hometown: req.body.hometown,
                        homeState: req.body.homeState,
                        major: req.body.major,
                        schoolYear: req.body.schoolYear,
                        interests: interests,
                        sorority: sorority,
                        fraternity: fraternity,
                        twitterHandle: twitterHandle,
                        instagramHandle: instagramHandle,
                        youtubeChannel: youtubeChannel,
                        sport: sport,
                        bio: req.body.bio,
                        verifiedUser: verifiedUser,
                        avatar: req.file.filename,
                        uniqueUserId: 'user' + Date.now() + username,
                        profileTheme: req.body.profileTheme,
                        followers: [],
                        following: [],
                        notifications: [signUpNotification],
                        communities: [],
                        communitiesModerated: [],
                        karma: 0,
                        messageThreads: [],
                        events: [],
                        parties: [],
                        blockList: [],
                        dateCreated: `${month} ${date} ${year}`,
                    });

                    newUser.save((err, user) => {
                        if(err) {
                            throw err;
                            console.log(err.message);
                            res.status(500).send('There was an error saving the user in the database at newUser.save()');
                        }
                        else {
                            console.log(username, 'Just Signed Up For A Linkkup Account!');
                            res.status(200).json({result: 'success', user: user, posts: []});
                        }
                    });
                }
            }
        });
    }
    catch(err) {
        console.log(err.message);
        res.status(500).send('There was an error saving the user in the database: ' + err.message);
    }
});
//-----------------------------------------------------------------------------------------------------------------------------------
//The route below will handle authenticating the user on a log in attempt!
app.post('/user-login', (req, res) => {
    //try and catch block. We should let the program die quietly on errors
    try {
        //Get the username and password from the login post request
        let username = req.body.username;
        let password = req.body.password;

        //Use the User model to look for a user with this username.
        User.findOne({username: username}, (err, user) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else if(!user) {
                console.log('User not found on log in attempt!');
                res.status(200).json({auth: 'user not found'});
            }
            else {
                if(user.password === password) {
                    console.log('User authenticated on log in attempt!');
                    //res.status(200).json({auth: 'user authenticated', user: user});
                    
                    Post.find({uniqueUserId: user.uniqueUserId}, (err, result) => {
                        if(err) {
                            res.status(500).send('error');
                        }
                        else if(!result) {
                            res.status(200).json({auth: 'user authenticated', user: user, userPosts: []});
                        }
                        else {
                            res.status(200).json({auth: 'user authenticated', user: user, userPosts: result});
                        }
                    });
                }
                else {
                    console.log('Incorrect password on log in attempt!');
                    res.status(200).json({auth: 'invalid password'});
                }
            }
        });
    }
    catch(err) {
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The Route Below Will Send An Updated Version Of The User Back To The Server For Page Reloads.
app.get('/get-current-user/:uniqueuserid', (req, res) => {
    try {
        User.findOne({uniqueUserId: req.params.uniqueuserid}, (err, user) => {
            if(err) {
                res.status(500).send('Error In Get');
            }
            else {
                //res.json({user: user});
                Post.find({uniqueUserId: user.uniqueUserId}, (err, userPosts) => {
                    
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else if(!userPosts) {
                        res.json({user: user, userPosts: []});
                    }
                    else {
                        userPosts = _.sortBy(userPosts, post => -post.utcTime);
                        userPosts = _.reject(userPosts, post => post.context === 'community');
                        res.json({user: user, userPosts: userPosts});
                    }
                });
            }
        });
    }catch(err) {
        console.log(err.message);
        res.status(500).send('error');
    }
});
//------------------------------------------------------------------------------------------------------------------------------------
//The Route Below Will Help Us Get An Avatar Based On The Users' ID
app.get('/api/user/avatar/:id', (req, res) => {
    let userId = req.params.id;
    try {
        User.findOne({uniqueUserId: userId}, (err, result) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('Error Getting Image');
            }
            else {
                gfs.files.findOne({ filename: result.avatar }, (err, file) => {
                    // Check if file
                    if (!file || file.length === 0) {
                        console.log('\n\n\nOpppppps. We could not find that file');
                    return res.status(404).json({
                        err: 'No file exists'
                    });
                    }
                    else {
                        let readstream = gfs.createReadStream(file.filename);
                        readstream.pipe(res);
                    }
                });
            }
        });
    }catch(err) {
        console.log(err.message);
        res.status(500).send('error');
    }
});
//---------------------------------------------------------------------------------------------------------------------------------------
//This route will handle uploading a post to the database.
app.post('/api/post/upload', (req, res) => {
    let title;
    let community;
    let link;
    let src;

    if(req.body.title) {
        title = req.body.title;
    }
    else {
        title = '';
    }
    if(req.body.community) {
        community = req.body.community;
    }
    else {
        community = '';
    }
    if(req.body.link) {
        link = req.body.link;
    }
    else {
        link = '';
    }
    if(req.body.src) {
        src = req.body.src;
    }
    else {
        src = '';
    }
    let newPost = new Post({
        text: req.body.text,
        uniqueUserId: req.body.uniqueUserId,
        username: req.body.username,
        dateString: req.body.dateString,
        uniquePostId: req.body.username + Date.now() + req.body.uniqueUserId + 'post',
        context: req.body.context,
        type: req.body.type,
        utcTime: req.body.utcTime,
        title: title,
        community: community,
        link: link,
        comments: [],
        likes: [],
        src: src,
    });
    newPost.save((err, result) => {
        if(err) {
            console.log(err.message);
            res.status(500).send('Error Uploading Post');
        }
        else {
            console.log('A User Successfully Uploaded A', req.body.type, 'Post!');
            res.status(200).json({completion: 'success', newPost: result});
        }
    });
});
//----------------------------------------------------------------------------------------------------------------------------------
//The route below will handle uploading a link post 
app.post('/api/link/post/upload', (req, res) => {
    let title;
    let community;
    let link;
    let src;

    if(req.body.title) {
        title = req.body.title;
    }
    else {
        title = '';
    }
    if(req.body.community) {
        community = req.body.community;
    }
    else {
        community = '';
    }
    if(req.body.link) {
        link = req.body.link;
    }
    else {
        link = '';
    }
    if(req.body.src) {
        src = req.body.src;
    }
    else {
        src = '';
    }
    let targetUrl = 'https://meta.mehari.workers.dev/?url=' + link;
    axios.get(targetUrl).then(response => {
        src = response.data.image;
        let text = response.data.description;
        let newPost = new Post({
            text: text,
            uniqueUserId: req.body.uniqueUserId,
            username: req.body.username,
            dateString: req.body.dateString,
            uniquePostId: req.body.username + Date.now() + req.body.uniqueUserId + 'post',
            context: req.body.context,
            type: req.body.type,
            utcTime: req.body.utcTime,
            title: title,
            community: community,
            link: link,
            comments: [],
            likes: [],
            src: src,
        });
        newPost.save((err, result) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('Error Uploading Post');
            }
            else {
                console.log('A User Successfully Uploaded A', req.body.type, 'Post!');
                res.status(200).json({completion: 'success', newPost: result});
            }
        });
    });
});
//----------------------------------------------------------------------------------------------------------------------------------
//The route below will handle uploading a "media" post. Must be multipart/form-data 
app.post('/api/post/media/upload', uploads.single('media'), (req, res) => {
    try {
        let src = req.file.filename //This will store the filename in a way in which we can get the photo later in API get requests 
        let uniqueUserId = req.body.uniqueUserId;
        let username = req.body.username;
        let uniquePostId = 'photo' + uniqueUserId + Date.now();
        let utcTime = parseInt(req.body.utcTime);
        let dateString = req.body.dateString;
        let context = req.body.context;
        let likes = [];
        let comments = [];
        let community;
        let title;
        let caption;
        if(context === 'communit') {
            title = req.body.title;
            community = req.body.community;
            caption = '';
        }
        else {
            title = '',
            community = '',
            caption = req.body.caption;
        }
        if(req.body.community) {
            community = req.body.community;
        }
        else {
            community = '';
        }

        let newPost = new Post({
            src: src,
            uniqueUserId: uniqueUserId,
            username: username,
            uniquePostId: uniquePostId,
            utcTime: utcTime,
            dateString: dateString,
            context: context,
            likes: likes,
            comments: comments,
            community: community,
            title: title,
            caption: caption,
            link: '',
            text: '',
            type: req.body.type,
        });
        
        //Now get ready to save the new post.
        newPost.save((err, post) => {
            if(err) {
                console.log(`There was an error downloading a new ${req.body.type} post.`);
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                console.log(`Successfully uploaded a new ${req.body.type} post.`);
                res.status(200).json({newPost: post});
            }
        });
    }
    catch(err) {
        console.log(`Caught an error trying to upload a ${req.body.type} post.`);
        console.log(err.message);
        res.status(500).send('error');
    }
});
//----------------------------------------------------------------------------------------------------------------------------------
//This route will handle a user liking a post 
app.get('/api/like/:uniquepostid/:uniqueuserid', (req, res) => {
    let uniquePostId = req.params.uniquepostid;
    let uniqueUserId = req.params.uniqueuserid;
    try {
        User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
            if(err) {
                console.log('There Was An Error With A User Liking A Post');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                Post.findOne({uniquePostId: uniquePostId}, (err, post) => {
                    if(err) {
                        console.log('There Was An Error Liking A Post When We Searched For The Post');
                        console.log(err.message);
                    }
                    else {
                        let liker = {
                            username: user.username,
                            uniqueUserId: uniqueUserId,
                        };
                        post.likes.push(liker); //Push this liker to the array of post likers
                        //Now find the uniqueUserId of the person who's post is being liked and update their karma 
                        post.save(err => {
                            if(err) {
                                console.log('There Was An Error Saving The Post After It Was Liked');
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                User.updateOne({uniqueUserId: post.uniqueUserId}, {$inc: {karma: 1}}, (err, result) => {
                                    if(err) {
                                        console.log('There Was An Error Liking A Post In The Section Where We Increment The Karma Of The User');
                                        console.log(err.message);
                                        res.status(500).send('error');
                                    }
                                    else {
                                        Post.find({uniqueUserId: post.uniqueUserId}, (err, userPosts) => {
                                            if(err) {
                                                console.log('Now There Was An Error Grabbing All Of The Users Posts After A Post Was Liked');
                                                console.log(err.message);
                                                res.status(500).send('error');
                                            }
                                            else {
                                                User.findOne({uniqueUserId: post.uniqueUserId}, (err, finalUser) => {
                                                    if(err) {
                                                        console.log('Now There Was An Error Grabbing The User After A Post Was Liked When We Wanted To Send The User Back As A Response Object');
                                                        console.log(err.message);
                                                        res.status(500).send('error');
                                                    }
                                                    else {
                                                        userPosts = _.sortBy(userPosts, post => -post.utcTime);
                                                        console.log('Successfully Liked A Post');
                                                        res.status(200).json({user: finalUser, userPosts: userPosts});
                                                    }
                                                });
                                            }
                                        });
                                    }
                                });
                            }
                        });
                    }
                });
            }
        });
    }catch(err) {
        console.log('There Was An Error Liking A Post');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//------------------------------------------------------------------------------------------------------------------------------------------
//The route below will enable us to unlike a user post
app.get('/api/unlike/:uniquepostid/:uniqueuserid', (req, res) => {
    let uniquePostId = req.params.uniquepostid;
    let uniqueUserId = req.params.uniqueuserid;

    try {
        User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
            if(err) {
                console.log('We had an error fetching the user who tried to unlike a post');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                let newLiker = {
                    username: user.username,
                    uniqueUserId: uniqueUserId,
                };
                Post.findOne({uniquePostId: uniquePostId}, (err, post) => {
                    if(err) {
                        console.log('There was an error when trying to retrieve the post that a user wanted to unlike');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        post.likes = _.reject(post.likes, liker => liker.uniqueUserId === uniqueUserId);
                        post.save(err => {
                            if(err) {
                                console.log('There was an error saving a new post unlike event');
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                User.updateOne({uniqueUserId: post.uniqueUserId}, {$inc: {karma: -1}}, (err, result) => {
                                    if(err) {
                                        console.log('There was an error decreasing the users Karma when a post was unliked');
                                        console.log(err.message);
                                        res.status(500).send('error');
                                    }
                                    else {
                                        User.findOne({uniqueUserId: uniqueUserId}, (err, finalUser) => {
                                            if(err) {
                                                console.log('There was an error grabbing the final user');
                                                console.log(err.message);
                                                res.status(500).send('error');
                                            }
                                            else {
                                                Post.find({uniqueUserId: post.uniqueUserId}, (err, userPosts) => {
                                                    if(err) {
                                                        console.log('There was an error grabbing all of the posts when the user tried to unlike a post');
                                                        console.log(err.message);
                                                        res.status(500).send('error');
                                                    }
                                                    else {
                                                        userPosts = _.sortBy(userPosts, post => -post.utcTime);
                                                        console.log('Successfully unliked a post');
                                                        res.status(200).json({user: finalUser, userPosts: userPosts});
                                                    }
                                                });
                                            }
                                        });
                                    }
                                });
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We caught an error in the try/catch block when a user tried to unlike a post');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//------------------------------------------------------------------------------------------------------------------------------------------
//This route will handle getting a post so that a user can enter the comments page when they attempt to comment on a post. 
app.get('/api/comments/:uniquepostid', (req, res) => {
    let uniquePostId = req.params.uniquepostid;

    try {
        Post.findOne({uniquePostId: uniquePostId}, (err, post) => {
            if(err) {
                console.log('There was an error retreiving a post for a user to comment on!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                console.log('Successfully Retrieved Post For User To Comment On');
                res.status(200).json({post: post});
            }
        });
    }
    catch(err) {
        console.log('Caught an error retrieving a post for a user to comment on');
        res.status(500).send('error');
    }
});
//----------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle adding a comment to a post 
app.post('/api/add/comment', (req, res) => {
    let uniquePostId = req.body.uniquePostId;
    let uniquePosterId = req.body.uniquePosterId;
    let uniqueCommenterId = req.body.uniqueCommenterId;
    
    try {
        Post.findOne({uniquePostId: uniquePostId}, (err, post) => {
            if(err) {
                console.log('Error finding the post that a user attempted to add a comment to');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                let newComment = {
                    text: req.body.comment,
                    uniqueCommentId: 'comment' + uniqueCommenterId + Date.now() + uniqueCommenterId,
                    uniqueUserId: uniqueCommenterId,
                    username: req.body.commenterUsername,
                    dateString: req.body.dateString,
                    utcTime: parseInt(Date.now()),
                    likes: [],
                };
                post.comments.unshift(newComment);
                //Now save the post to the db. 
                post.save((err, updatedPost) => {
                    if(err) {
                        console.log('There was an error saving a post comment to the database');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        if(uniquePosterId !== uniqueCommenterId) {
                            let newNotification = {
                                type: 'like',
                                uniqueUserId: uniqueCommenterId,
                                username: req.body.commenterUsername,
                                dateString: req.body.dateString,
                                utcTime: parseInt(Date.now()),
                                text: 'commented on your post',
                                link: `/comments/${uniquePostId}#${newComment.uniqueCommentId}`,
                                uniqueNotificationId: 'notification' + uniquePosterId + Date.now(),
                            };
            
                            User.updateOne({uniqueUserId: uniquePosterId}, {$push: {notifications: newNotification}}, (err, fin) => {
                                if(err) {
                                    console.log('Error sending the user a notification that someone commented on their post');
                                    console.log(err.message);
                                    res.status(500).send('error');
                                }
                                else {
                                    console.log('Comment successfully added to post along with notification to user');
                                    res.status(200).json({post: updatedPost});
                                }
                            })
                        }
                        else {
                            console.log('A user commented on their own post and it was added to the database successfully');
                            res.status(200).json({post: updatedPost});
                        }
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('Caught and error trying to add a comment to a post');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//-----------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle liking a comment 
app.post('/api/like/comment', (req, res) => {
    let uniquePostId = req.body.uniquePostId;
    let uniqueCommentId = req.body.uniqueCommentId;
    console.log(`The unique comment id is ${uniqueCommentId}`);
    let uniqueLikerId = req.body.uniqueLikerId;
    let uniquePosterId = req.body.uniquePosterId;

    
    try { 
        //First we need to find the post to add the liked for the comment to
        Post.findOne({uniquePostId: uniquePostId}, (err, post) => {
            if(err) {
                console.log('There was an error finding the post that holds a comment that a user liked');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                let comment = _.find(post.comments, comment => comment.uniqueCommentId === uniqueCommentId);
                comment.likes.push(uniqueLikerId);
                post.save((err, updatedPost) => {
                    if(err) {
                        console.log('There was an error saving a comment like');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        //Now we can update the Karma of the user who's comment was liked.
                        User.updateOne({uniqueUserId: uniquePosterId}, {$inc: {karma: 1}}, (err, result) => {
                            if(err) {
                                console.log('There was an error updating the karma of a User who had a liked comment');
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                if(uniqueLikerId === uniquePosterId) {
                                    User.findOne({uniqueUserId: uniquePosterId}, (err, user) => {
                                        if(err) {
                                            console.log('There was an error finding the user to pass to the front-end for a liked comment');
                                            console.log(err.message);
                                            res.status(500).send('error');
                                        }
                                        else {
                                            console.log('Successfully updated a users\' karama on a liked comment');
                                            res.status(200).json({user: user, post: updatedPost, ownPost: true});
                                        }
                                    });
                                }
                                else {
                                    //Now we can send the user an notification that their comment was liked if another user liked it.
                                    let newNotification = {
                                        type: 'likedComment',
                                        userId: uniqueLikerId,
                                        username: req.body.username,
                                        dateString: req.body.dateString,
                                        text: 'liked your comment',
                                        link: `/comments/${uniquePostId}#${uniqueCommentId}`,
                                        utcTime: parseInt(Date.now()),
                                        uniqueNotificationId: 'notification' + Date.now() + uniqueLikerId + uniquePostId,
                                    };
                                    User.updateOne({uniqueUserId: uniquePosterId}, {$push: {notifications: newNotification}}, (err, fin) => {
                                        if(err) {
                                            console.log('There was an error sending a notification that someone liked a users\'s comment');
                                            console.log(err.message);
                                            res.status(500).send('error');
                                        }
                                        else {
                                            console.log('Sending the post back after a successfully liked comment');
                                            res.status(200).json({post: updatedPost, ownPost: false});
                                        }
                                    });
                                }
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('Caught an error trying to like a comment');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//---------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle unliking a comment 
app.post('/api/unlike/comment', (req, res) => {
    let uniquePostId = req.body.uniquePostId;
    let uniqueCommentId = req.body.uniqueCommentId;
    let uniqueUnlikerId = req.body.uniqueUnlikerId;
    let uniquePosterId = req.body.uniquePosterId;
    
    try {
        Post.findOne({uniquePostId: uniquePostId}, (err, post) => {
            if(err) {
                console.log('There was an error finding a post for a comment that needs to be unliked');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                let comment = _.find(post.comments, comment => comment.uniqueCommentId === uniqueCommentId);
                comment.likes = _.reject(comment.likes, like => like === uniqueUnlikerId);
                //Now that we have removed the like, save the post. 
                post.save((err, updatedPost) => {
                    if(err) {
                        console.log('There was an issue saving a post that had an unliked comment');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        //Now we need to update the users' karma by removing one point 
                        User.updateOne({uniqueUserId: uniquePosterId}, {$inc: {karma: -1}}, (err, result) => {
                            if(err) {
                                console.log('There was an error removing a karma point from a user who had a comment unliked');
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                //Now we can send back the user if the uniquePosterId and uniqueUnlikerId are the same 
                                if(uniqueUnlikerId === uniquePosterId) {
                                    User.findOne({uniqueUserId: uniquePosterId}, (err, user) => {
                                        if(err) {
                                            console.log('There was an error sending back a user after they unliked their own comment');
                                            console.log(err.message);
                                            res.status(500).send('error');
                                        }
                                        else {
                                            console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!');
                                            console.log('The unqiuePostId Is', uniquePosterId);
                                            console.log('There returned user was', user);
                                            console.log('Successfully updated a user who unliked their own post');
                                            res.status(200).json({user: user, post: updatedPost});
                                        }
                                    });
                                }
                                else {
                                    //Now send back the updated post that has 1 fewer like 
                                    console.log('Successfully unliked a post');
                                    res.status(200).json({post: updatedPost});
                                }
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('Caught an error while unliking a post');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle deleting a text or media post from a profile (or maybe a community too later)
app.post('/api/delete/post', (req, res) => {
    let uniquePostId = req.body.uniquePostId;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        Post.deleteOne({uniquePostId: uniquePostId}, (err, result) => {
            if(err) {
                console.log('There was an error finding a text or link post to delete');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                //Now find the posts that are associated with this unique user id 
                Post.find({uniqueUserId: uniqueUserId}, (err, posts) => {
                    if(err) {
                        console.log('There was an error retrieving the users posts after they deleted a text or link post');
                        console.log(err.message);
                    }
                    else {
                        posts = _.sortBy(posts, post => -post.utcTime);
                        console.log('Successfully deleted a text or link post');
                        res.status(200).json({result: 'success', posts: posts});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('There was an error deleting a text or media post');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//----------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle deleting a media post from a profile page (or possibly community too later) 
app.post('/api/delete/media/post', (req, res) => {
    let src = req.body.src;
    let uniqueUserId = req.body.uniqueUserId;
    try {
        Post.deleteOne({src: src}, (err, result) => {
            if(err) {
                console.log('There was an error finding a media post to delete!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                gfs.remove({ filename: src, root: 'uploads' }, (err, gridStore) => {
                    if (err) {
                        console.log('Error deleting file from GridFs when user tried to delete a media post');
                        console.log(err);
                        res.status(500).send('error');
                    }
                    else {
                        Post.find({uniqueUserId: uniqueUserId}, (err, posts) => {
                            if(err) {
                                console.log('Error retrieving posts when user deleted a media post');
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                posts = _.sortBy(posts, post => -post.utcTime);
                                console.log('Successfully deleted a media post!');
                                res.status(200).json({posts: posts})
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('Caught an error trying to delete a media post!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//-----------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle deleting a comment from a post. Return a single post to the client. 
app.post('/api/delete/comment', (req, res) => {
    let uniquePostId = req.body.uniquePostId;
    let uniqueCommentId = req.body.uniqueCommentId;
    try {
        Post.findOne({uniquePostId: uniquePostId}, (err, curPost) => {
            if(err) {
                console.log('Error retrieving a post when trying to delete a comment!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                curPost.comments = _.reject(curPost.comments, comment => comment.uniqueCommentId === uniqueCommentId);
                curPost.save(err => {
                    if(err) {
                        console.log('Error trying to save a post to the database after deleting a comment');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        Post.findOne({uniquePostId: uniquePostId}, (err, post) => {
                            if(err) {
                                console.log('Error sending post back to the client after deleting a comment');
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                console.log('Successfully deleted a comment from a post');
                                res.status(200).json({post: post});
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('Caught an error trying to delete a comment');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//-----------------------------------------------------------------------------------------------------------------------------
//The route below will handle searching for all users. We need to return their username, full name and avatar 
app.get('/api/fetch/users', (req, res) => {
    try {
        User.find({}).collation({locale: 'en'}).sort({username: 1}).exec(function(err, users) {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                res.status(200).json({users: users});
            }
        });
    }
    catch(err) {
        console.log('Caught an error when gathering users to send to the client for search');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//-------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle fetching a linkkup user when someone tries to visit their profile page 
app.get('/api/fetch/linkkup/:username', (req, res) => {
    let username = req.params.username;
    try {
        User.findOne({username: username}, (err, user) => {
            if(err) {
                console.log('There was an error finding a user in the database when a user tried to visit their profile page!!!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                if(!user) {
                    console.log('The user asssociated with a username was not found when someone tried to visit their profile page!!!');
                    res.status(200).send('user not found');
                }
                else {
                    //Now we need to fetch the users' posts 
                    Post.find({uniqueUserId: user.uniqueUserId}, (err, posts) => {
                        if(err) {
                            console.log('There was an error fetching a users posts when someone tried to visit their page');
                            console.log(err.message);
                            res.status(500).send('error');
                        }
                        else {
                            posts = _.sortBy(posts, post => -post.utcTime);
                            posts = _.reject(posts, post => post.context === 'community');
                            console.log('Sending back a user from fetch request to visit their profile page');
                            res.status(200).json({user: user, linkkupUserPosts: posts});
                        }
                    })
                }
            }
        });
    }
    catch(err) {
        console.log('We "caught" an error fetching a user when someone tried to visit their profile page!!!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//---------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle following a user.
app.post('/api/follow/user', (req, res) => {
    let follower = req.body.follower;
    let userToFollow = req.body.userToFollow;
    let username = req.body.username;
    let followUsername = req.body.followUsername;

    try {
        let newFollower = {
            username: username,
            uniqueUserId: follower,
        };
        let newFollowing = {
            username: followUsername,
            uniqueUserId: userToFollow,
        };
        User.updateOne({uniqueUserId: userToFollow}, {$push: {followers: newFollower}}, (err, result) => {
            if(err) {
                console.log('There was an error trying to update a user when someone tried to follow them!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: userToFollow}, (err, user) => {
                    if(err) {
                        console.log('There was an error sending a users followers back when someone tried to follow them');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        //Now update the follower and put the person they are following in their "following" array 
                        User.updateOne({uniqueUserId: follower}, {$push: {following: newFollowing}}, (err, finalResult) => {
                            if(err) {
                                console.log('Error putting a user that someone followed in their "following" array');
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                console.log('Successfully followed a user');
                                let followers = user.followers;
                                res.status(200).json({followers: followers});
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We caught an error when a user tried to follow another user!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle unfollowing a user
app.post('/api/unfollow/user', (req, res) => {
    let unfollower = req.body.unfollower;
    let userToUnfollow = req.body.userToUnfollow;

    try {
        User.findOne({uniqueUserId: userToUnfollow}, (err, user) => {
            if(err) {
                console.log('Error trying to find user to unfollow!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                user.followers = _.reject(user.followers, follower => follower.uniqueUserId === unfollower);
                user.save(err => {
                    if(err) {
                        console.log('Error trying to save user after they were unfollowed');
                        console.log(err.message);
                        res.status(500).send('500');
                    }
                    else {
                        //Now retrieve the users new list of followers to send to the client to update the UI.
                        User.findOne({uniqueUserId: userToUnfollow}, (err, finalUser) => {
                            if(err) {
                                console.log('Error trying to send user followers back after a user unfollowed them');
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                //Now reject the unfollowed user from the unfollowers' following array. 
                                User.findOne({uniqueUserId: unfollower}, (err, finalUnfollower) => {
                                    if(err) {
                                        console.log('Error removing follower from followers array of the unfollower');
                                        console.log(err.message);
                                        res.status(500).send('error');
                                    }
                                    else {
                                        finalUnfollower.following = _.reject(finalUnfollower.following, k => k.uniqueUserId === userToUnfollow);
                                        finalUnfollower.save(err => {
                                            if(err) {
                                                console.log('Error removing a user from a users following array after they tried to unfollow a user');
                                                console.log(err.message);
                                                res.status(500).send('error');
                                            }
                                            else {
                                                let followers = finalUser.followers;
                                                console.log('Successfully unfollowed a user!');
                                                res.status(200).json({followers: followers});
                                            }
                                        });
                                    }
                                });
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('Caught an error in catch block trying to unfollow a user!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle finding followers for a user when the followers button is clicked on a profile page.
app.get('/api/find/followers/:username', (req, res) => {
    let username = req.params.username;

    try {
        User.findOne({username: username}, (err, user) => {
            if(err) {
                console.log('There was an error trying to retrieve a for the people that follow them');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                let followers = user.followers;
                if(followers.length < 1) {
                    res.status(200).send('No Followers');
                }
                else {
                    console.log('Sending back users followers');
                    res.status(200).json({followers: followers});
                }
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT and error trying to find followers for a user when they clicked on followers');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//----------------------------------------------------------------------------------------------------------------------------------------
//The route below will help a user find the people another user is following 
app.get('/api/find/following/:username', (req, res) => {
    let username = req.params.username;

    try {
        User.findOne({username: username}, (err, user) => {
            if(err) {
                console.log('There was an error finding a user to find out who they are following');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                let following = user.following;
                console.log('Successfully found the people a user is following');
                res.status(200).json({following: following});
            }
        });
    }
    catch(err) {
        console.log('We caught an error looking for who a user is following');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//----------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle building a new community as a post request with multipart/form-data 
app.post('/api/build/community', uploads.single('avatar'), (req, res) => {
    try {
        let name = req.body.name;
        let title = req.body.title;
        let tops = req.body.topics.split(',');
        topics = [];
        tops.forEach(function(topic, index) {
            topics.push(topic);
        });
        let communityTheme = req.body.theme;
        let avatar = req.file.filename;
        let newModerator = {
            username: req.body.creatorUsername,
            uniqueUserId: req.body.creatorUniqueUserId,
        };
        
        
        //Now create the new community 
        let community = new Community({
            name: name,
            title: title,
            topics: topics,
            communityTheme: communityTheme,
            avatar: avatar,
            moderator: newModerator,
            ratings: [],
            rating: 1,
            rules: [],
            chatRoom: {
                name: name + ' ' + 'chatroom',
                title: title,
                community: name,
                messages: [],
            },
            blockList: [],
            members: [
                {
                    username: newModerator.username,
                    uniqueUserId: newModerator.uniqueUserId,
                }
            ]
        });

        //Test to see if the community name is taken 
        Community.findOne({name: name}, (err, result) => {
            if(err) {
                console.log('There was an error checking to see if a community name was taken');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                if(result) {
                    console.log('That community name was taken!!!');
                    res.status(200).send('name taken');
                }
                else {
                    community.save(err => {
                        if(err) {
                            console.log('There was an error saving a new community once we created it!');
                            console.log(err.message);
                            res.status(500).send('error');
                        }
                        else {
                            //Now grab the user and push the community to their communities array.
                            User.updateOne({uniqueUserId: newModerator.uniqueUserId}, {$push: {communities: name}}, (err, fin) => {
                                if(err) {
                                    console.log('Error pushing a new community to the users communities array when they created one');
                                    console.log(err.message);
                                    res.status(500).send('error');
                                }
                                else {
                                    console.log('Successfully created a new community!');
                                    res.status(200).send({communityName: name});
                                }
                            });
                        }
                    });
                }
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error when trying to create a new community!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//-------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle fetching a community and sending it back to the client
app.get('/api/fetch/community/:name', (req, res) => {
    try {
        let name = req.params.name;
        Community.findOne({name: name}, (err, community) => {
            if(err) {
                console.log('There was an error trying to fetch a community based on its\' name!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                //Now fetch each post associated with this community 
                Post.find({community: name}, (err, posts) => {
                    if(err) {
                        console.log('There was an error fetching posts associated with a community');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        console.log('Successfully fetched a community and we are now sending it back to the client');
                        posts = _.sortBy(posts, post => -post.utcTime);
                        res.status(200).json({community: community, posts: posts});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to fetch a community from the server back to the client');
    }
});
//-----------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle enabling a user to join a community 
app.post('/api/join/community', (req, res) => {
    let username = req.body.username;
    let uniqueUserId = req.body.uniqueUserId;
    let community = req.body.name; 

    try {
        let newMember = {
            username: username,
            uniqueUserId: uniqueUserId,
        };
        Community.updateOne({name: community}, {$push: {members: newMember}}, (err, result) => {
            if(err) {
                console.log('There was an error pushing a new member to a community when they tried to join!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.updateOne({uniqueUserId: uniqueUserId}, {$push: {communities: community}}, (err, fin) => {
                    if(err) {
                        console.log('There was an error pushing a new community that a user joined to their list of communities');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        console.log('Successfully joined a user to a new community.');
                        res.status(200).send('success');
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error when attempting to join a user into a community!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle leaving a community 
app.post('/api/leave/community', (req, res) => {
    let username = req.body.username;
    let uniqueUserId = req.body.uniqueUserId;
    let community = req.body.name;
    
    try {
        Community.findOne({name: community}, (err, com) => {
            if(err) {
                console.log('We caught an error when trying to find a community to remove a user');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                com.members = _.reject(com.members, member => member.uniqueUserId === uniqueUserId);
                com.save(err => {
                    if(err) {
                        console.log('We had an error saving a community after removing a member from its member list');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        User.updateOne({uniqueUserId: uniqueUserId}, {$pull: {communities: community}}, (err, result) => {
                            if(err) {
                                console.log('We had an error pulling a community from a users list of communities');
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                console.log('Successfully unjoined a member from a community');
                                res.status(200).send('success');
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error when a user tried to leave a community!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle updating a community title 
app.post('/api/update/title', (req, res) => {
    let name = req.body.community;
    let title = req.body.title;

    try {
        Community.updateOne({name: name}, {$set: {title: title}}, (err, result) => {
            if(err) {
                console.log('There was an error updating a community title');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                console.log('Successfully updated a community title');
                res.status(200).send('success');
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a community title');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle deleting a rule from a communities array of rules 
app.post('/api/delete/rule', (req, res) => {
    let rule = req.body.rule;
    let name = req.body.community;

    try {
        Community.updateOne({name: name}, {$pull: {rules: rule}}, (err, result) => {
            if(err) {
                console.log('There was an error deleting a rule from an array of community rules');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                console.log('Successfully deleted a rule from a community');
                res.status(200).send('success');
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error deleting a rule from a community');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle adding a new rule to a community 
app.post('/api/add/rule', (req, res) => {
    let rule = req.body.rule;
    let name = req.body.community;

    try {
        Community.findOne({name: name}, (err, community) => {
            if(err) {
                console.log('There was an error trying to find a community to add a rule to!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                let rules = community.rules;
                if(rules.length >= 10) {
                    console.log('There were too many rules to add another to a community!');
                    res.status(200).send('too many rules');
                }
                else {
                    community.rules.push(rule);
                    community.save(err => {
                        if(err) {
                            console.log('There was an error saving a community to the database after adding a rule');
                            console.log(err.message);
                            res.status(500).send('error');
                        }
                        else {
                            console.log('Successfully added a new rule to a community');
                            res.status(200).send('success');
                        }
                    });
                }
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to add a new rule to a commmunity!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//----------------------------------------------------------------------------------------------------------------------------------
//The route below will handle updating the theme color for a community 
app.post('/api/update/theme', (req, res) => {
    let color = req.body.color;
    let name = req.body.community;

    try {
        Community.updateOne({name: name}, {$set: {communityTheme: color}}, (err, result) => {
            if(err) {
                console.log('There was an error updating the theme color for a community');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                console.log('Successfully updated the theme color for a community');
                res.status(200).send('success');
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error updating the theme color for a community');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//----------------------------------------------------------------------------------------------------------------------------------
//The route below will handle updating the community avatar image and deleting the old one from the database.
app.post('/api/update/avatar', uploads.single('avatar'), (req, res) => {
    let oldAvatar = req.body.oldAvatar;
    let name = req.body.community;
    let avatar = req.file.filename;

    try {
        gfs.remove({ filename: oldAvatar, root: 'uploads' }, (err, gridStore) => {
            if (err) {
                console.log('Error deleting file from GridFs when user tried to delete a community avatar');
                console.log(err);
                res.status(500).send('error');
            }
            else {
                Community.updateOne({name: name}, {$set: {avatar: avatar}}, (err, result) => {
                    if(err) {
                        console.log('There was an error trying to add a new avatar to the community as an attribute pointing to the filename string.');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        console.log('Successfully updated community avatar');
                        res.status(200).json({avatar: avatar});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to upload a new avatar image and delete an old one for a community!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//------------------------------------------------------------------------------------------------------------------------------
//The route below will be responsible for unblocking a user from a community 
app.post('/api/unblock/user', (req, res) => {
    let name = req.body.community;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        Community.findOne({name: name}, (err, community) => {
            if(err) {
                console.log('We had an error trying to find a community to unblock a user from');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                community.blockList = _.reject(community.blockList, user => user.uniqueUserId === uniqueUserId);
                community.save(err => {
                    if(err) {
                        console.log('There was an error trying to save a community after unblocking a user from that community');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        console.log('Successfully unblocked a user from a community');
                        res.status(200).send('success');
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to unblock a user from a community');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle blocking a user from a community 
app.post('/api/block/user', (req, res) => {
    let name = req.body.community;
    let username = req.body.username;

    try {
        User.findOne({username: username}, (err, user) => {
            if(err) {
                console.log('There was an error trying to find a user to block from a community based on their username!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else if(!user) {
                console.log('We could not find a user based on their username to block from a community!');
                res.status(200).send('user not found');
            }
            else {
                let uniqueUserId = user.uniqueUserId;
                let blockedUser = {
                    username: username,
                    uniqueUserId: uniqueUserId,
                };
                Community.updateOne({name: name}, {$push: {blockList: blockedUser}}, (err, result) => {
                    if(err) {
                        console.log('We had an error trying to push a blocked user to a community\'s block list!');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        console.log('Successfully blocked a user from a community');
                        res.status(200).json({uniqueUserId: uniqueUserId});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to block a user from a community!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The route below will be responsible for fetching communities from the database and returning them to the client! 
app.get('/api/fetch/communities', (req, res) => {
    try {
        Community.find({}).collation({locale: 'en'}).sort({name: 1}).exec(function(err, communities) {
            if(err) {
                console.log('There was an error finding the communities in the database for the user to search!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                res.status(200).json({communities: communities});
            }
        });
    }
    catch(err) {
        console.log('There was an error retreiving all of the communities from the database for the user to search!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle deleting a message from a community 
app.post('/api/chat/delete/message', (req, res) => {
    let name =  req.body.community;
    let uniqueMessageId = req.body.uniqueMessageId;
    
    try {
        Community.findOne({name: name}, (err, community) => {
            if(err) {
                console.log('There was an error retrieving a community to delete a chat message from');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                community.chatRoom.messages = _.reject(community.chatRoom.messages, msg => msg.uniqueMessageId === uniqueMessageId);
                community.save(err => {
                    if(err) {
                        console.log('There was an error saving a community to the DB after we deleted a chat room message from it!');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        console.log('Successfully deleted a message from a community chat room!');
                        res.status(200).send('success');
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to delete a message from a community Chat Room!!!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle fetching threads for a user when they enter the messages page! 
app.get('/api/fetch/threads/:uniqueuserid', (req, res) => {
    let uniqueUserId = req.params.uniqueuserid;

    try {
        Thread.find({}, (err, threads) => {
            if(err) {
                console.log('There was an error retreiving threads for a user on the created hook');
                console.log(err.message);
                res.status(500).send('error');
            }
            else if(!threads) {
                console.log('The threads are', threads);
                res.status(200).json({threads: []});
            }
            else {
                console.log('The threads are', threads);
                let userThreads = _.filter(threads, thread => thread.uniqueUserIds.includes(uniqueUserId));
                console.log('The user threads are', userThreads);
                userThreads = _.sortBy(userThreads, thread => -thread.utcTime);
                console.log('Sending threads back to user in created hook on the messages page');
                res.status(200).json({threads: userThreads});
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error fetching threads for a user on the created hook on the messages page');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//-----------------------------------------------------------------------------------------------------------------------------------------
//The route below will be responsible for sending a raw dm message (either a new thread or any message sent outside of normal message threads)
app.post('/api/send/raw/dm', (req, res) => {
    let senderUniqueUserId = req.body.senderUniqueUserId;
    let senderUsername = req.body.senderUsername;
    let receiverUsername = req.body.receiverUsername;
    let msg = req.body.msg;
    let utcTime = req.body.utcTime;
    let dateString = req.body.dateString;
    let uniqueMessageId = 'message' + utcTime + senderUsername + receiverUsername;

    try {
        User.findOne({username: receiverUsername}, (err, receiver) => {
            if(err) {
                console.log('There Was An Error Finding A Sender For A Raw DM Message!!!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else if(!receiver) {
                console.log('We were not able to find a receiver for a raw DM message!!!');
                res.status(200).send('user not found');
            }
            else {
                let receiverUniqueUserId = receiver.uniqueUserId;
                Thread.find({}, (err, threads) => {
                    if(err) {
                        console.log('There was an error retreiving all of the threads from the database when trying to send a raw message');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        let targetThread = _.find(threads, thread => thread.users.includes(senderUsername) && thread.users.includes(receiverUsername));
                        if(targetThread) {
                            let newMsg = {
                                senderUsername: senderUsername,
                                senderUniqueUserId: senderUniqueUserId,
                                receiverUsername: receiverUsername,
                                receiverUniqueUserId: receiverUniqueUserId,
                                msg: msg,
                                utcTime: parseInt(utcTime),
                                dateString: dateString,
                                uniqueMessageId: uniqueMessageId,
                            };
                            console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!');
                            console.log('The target thread is', targetThread);
                            targetThread.messages.unshift(newMsg);
                            targetThread.utcTime = parseInt(Date.now());
                            targetThread.save(err => {
                                if(err) {
                                    console.log('We had an error updating and saving the new target thread!');
                                    console.log(err.message);
                                    res.status(500).send('error');
                                }
                                else {
                                    let newNotification = {
                                        senderUsername: senderUsername,
                                        msg: 'You received a message from', senderUsername,
                                        uniqueSenderId: senderUniqueUserId,
                                        notificationType: 'dm',
                                        notificationDate: dateString,
                                        notificationUtcTime: parseInt(utcTime),
                                        notificationLink: targetThread.uniqueThreadId,
                                        uniqueNotificationId: 'message' + utcTime + senderUniqueUserId,
                                    };
                                    User.updateOne({uniqueUserId: receiverUniqueUserId}, {$push: {notifications: newNotification}}, (err, result) => {
                                        if(err) {
                                            console.log('There was an error sending a notification to a user when they received a raw DM for an existing thread');
                                            console.log(err.message);
                                            res.status(500).send('error');
                                        }
                                        else {
                                            Thread.find({}, (err, updatedThreads) => {
                                                if(err) {
                                                    console.log('There was an error sending back updated threads somewhere in a DM');
                                                    console.log(err.message);
                                                    res.status(500).send('error');
                                                }
                                                else {
                                                    let userThreads = _.filter(updatedThreads, thread => thread.users.includes(senderUsername));
                                                    userThreads = _.sortBy(userThreads, thread => -thread.utcTime);
                                                    res.status(200).json({updatedThreads: userThreads});
                                                }
                                            });
                                        }
                                    });
                                }
                            });
                        }
                        else {
                            let newMsg = {
                                senderUsername: senderUsername,
                                senderUniqueUserId: senderUniqueUserId,
                                receiverUsername: receiverUsername,
                                receiverUniqueUserId: receiverUniqueUserId,
                                msg: msg,
                                utcTime: parseInt(utcTime),
                                dateString: dateString,
                                uniqueMessageId: uniqueMessageId,
                            };
                            let newThread = new Thread({
                                uniqueThreadId: 'thread' + utcTime + senderUniqueUserId + receiverUniqueUserId,
                                users: [senderUsername, receiverUsername],
                                uniqueUserIds: [senderUniqueUserId, receiverUniqueUserId],
                                utcTime: utcTime,
                                messages: [
                                    newMsg,
                                ],
                            });
                            newThread.save(err => {
                                if(err) {
                                    console.log('There was an error saving a new thread in a raw dm message event');
                                    console.log(err.message);
                                    res.status(500).send('error');
                                }
                                else {
                                    Thread.find({}, (err, allThreads) => {
                                        if(err) {
                                            console.log('Error sending back updated threads after adding new thread');
                                            console.log(err.message);
                                            res.status(500).send('error');
                                        }
                                        else {
                                            let updatedThreads = _.filter(allThreads, thread => thread.users.includes(senderUsername));
                                            updatedThreads = _.sortBy(updatedThreads, thread => -thread.utcTime);
                                            res.status(200).json({updatedThreads: updatedThreads});
                                        }
                                    });
                                }
                            });
                        }
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to send a raw dm message!!!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle fetching a thread from the database and send it back to the client. Reverse the order of messages 
app.get('/api/fetch/thread/:threadid', (req, res) => {
    let uniqueThreadId = req.params.threadid;

    try {
        Thread.findOne({uniqueThreadId: uniqueThreadId}, (err, thread) => {
            if(err) {
                console.log('There was an error fetching a thread from the database');
                console.log(err.message);
                res.status(500).send('error');
            }
            else if(!thread) {
                console.log('Tried to Fetch A Thread From The Database That No Longer Exists!');
                res.status(200).send('no thread found');
            }
            else {
                thread.messagess = _.sortBy(thread.messages, message => message.utcTime);
                res.status(200).json({thread: thread});
            }
        });
    }   
    catch(err) {
        console.log('We CAUGHT an error fetching a thread from the database to send back to the client');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle sending a ddirect message to another user from an ESTABLISHED message thread 
app.post('/api/send/dm', (req, res) => {
    let senderUniqueUserId = req.body.senderUniqueUserId;
    let senderUsername = req.body.senderUsername;
    let receiverUniqueUserId = req.body.receiverUniqueUserId;
    let msg = req.body.msg;
    let dateString = req.body.dateString;
    let utcTime = req.body.utcTime;
    let uniqueThreadId = req.body.uniqueThreadId;

    try {
        User.findOne({uniqueUserId: receiverUniqueUserId}, (err, receiver) => {
            if(err) {
                console.log('There was an error trying to find a user to send a direct message to from an established thread!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                let uniqueMessageId = 'message' + Date.now() + senderUniqueUserId + receiverUniqueUserId;
                let newMsg = {
                    senderUniqueUserId: senderUniqueUserId,
                    senderUsername: senderUsername,
                    receiverUsername: receiver.username,
                    receiverUniqueUserId: receiverUniqueUserId,
                    msg: msg,
                    dateString: dateString,
                    utcTime: parseInt(utcTime),
                    uniqueMessageId: uniqueMessageId,
                };
                let newNotification = {
                    senderUsername: senderUsername,
                    msg: senderUsername + ' sent you a message',
                    uniqueSenderId: senderUniqueUserId,
                    notificationType: 'message',
                    notificationDate: dateString,
                    notificationUtcTime: parseInt(utcTime),
                    notification: senderUsername + ' sent you a message',
                    uniqueNotificationId: 'notification' + Date.now() + senderUniqueUserId,
                };
                receiver.notifications.unshift(newNotification);
                receiver.save(err => {
                    if(err) {
                        console.log('There was an error saving a notification for the receive of a direct message!');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        Thread.findOne({uniqueThreadId: uniqueThreadId}, (err, thread) => {
                            if(err) {
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                thread.messages.unshift(newMsg);
                                thread.utcTime = utcTime;
                                thread.save(err => {
                                    if(err) {
                                        console.log(err.message);
                                        res.status(500).send('error');
                                    }
                                    else {
                                        Thread.findOne({uniqueThreadId: uniqueThreadId}, (err, updatedThread) => {
                                            if(err) {
                                                console.log(err.message);
                                                res.status(500).send('error');
                                            }
                                            else {
                                                updatedThread.messages = _.sortBy(updatedThread.messages, msg => msg.utcTime);
                                                res.status(200).json({messages: updatedThread.messages});
                                            }
                                        });
                                    }
                                });
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to send a new message to an established messgae thread!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//-------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle deleting a direct message from the databse 
app.post('/api/delete/dm', (req, res) => {
    let uniqueThreadId = req.body.uniqueThreadId;
    let uniqueMessageId = req.body.uniqueMessageId;

    Thread.updateOne({uniqueThreadId: uniqueThreadId}, {$pull: {messages: {uniqueMessageId: uniqueMessageId}}}, (err, result) => {
        if(err) {
            console.log(err.message);
            res.status(500).send('error');
        }
        else {
            Thread.findOne({uniqueThreadId: uniqueThreadId}, (err, thread) => {
                if(err) {
                    console.log(err.message);
                    res.status(500).send('error');
                }
                else {
                    thread.messages = _.sortBy(thread.messages, msg => msg.utcTime);
                    res.status(200).json({messages: thread.messages});
                }
            });
        }
    });
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle creating an event and saving it to the database 
app.post('/api/create/event', uploads.single('avatar'), (req, res) => {
    console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!');
    console.log('Create Event Route Has Been Triggered!');
    let title = req.body.title;
    let description = req.body.description;
    let dateString = req.body.dateString;
    let utcTime = parseInt(req.body.utcTime);
    let utcTimeCreated = parseInt(req.body.utcTimeCreated);
    let username = req.body.username;
    let uniqueUserId = req.body.uniqueUserId;
    let src = req.file.filename;
    let topics = req.body.topics.split(',');
    let likes = [];
    let attending = [];
    let uniqueEventId = 'event' + Date.now() + uniqueUserId + username;

    let newEvent = new Event({
        title: title,
        description: description,
        dateString: dateString,
        utcTime: utcTime,
        utcTimeCreated: utcTimeCreated,
        username: username,
        uniqueUserId: uniqueUserId,
        src: src,
        topics: topics,
        likes: likes,
        attending: attending,
        uniqueEventId: uniqueEventId,
    });

    try {
        newEvent.save(err => {
            if(err) {
                console.log('There was an error trying to save a new event to the database!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                console.log('Successfully saved a new event to the database');
                res.status(200).send('success');
            }
        })
    }
    catch(err) {
        console.log('We CAUGHT an error trying to save a new event to the database!!!!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The route below will fetch all events an send them back to the databse in order in which they are happening based on date 
app.get('/api/fetch/events', (req, res) => {
    try {
        Event.find({}, (err, events) => {
            if(err) {
                console.log('There was an error trying to fetch the events from the database');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                events = _.sortBy(events, event => event.utcTime);
                console.log('Successfully Fetched Events!');
                res.status(200).json({events: events});
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to fetch events!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//-------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle liking an event 
app.post('/api/like/event', (req, res) => {
    let uniqueUserId = req.body.uniqueUserId;
    let uniqueEventId = req.body.uniqueEventId;
    let likerUniqueUserId = req.body.likerUniqueUserId;
    let likerUsername = req.body.likerUsername;

    try {
        let newLiker = {
            username: likerUsername,
            uniqueUserId: likerUniqueUserId,
        };

        Event.updateOne({uniqueEventId: uniqueEventId}, {$push: {likes: newLiker}}, (err, response) => {
            if(err) {
                console.log('There was an error liking an event and pushing the new liker to the event likes');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.updateOne({uniqueUserId: uniqueUserId}, {$inc: {karma: 1}}, (err, karm) => {
                    if(err) {
                        console.log('There was an error updating a users\'s karma when someone liked their event');
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        //if the user is not the owner of the event, send them a notification 
                        let myDate = new Date();
                        let years = myDate.getFullYear();
                        let month = myDate.getMonth() + 1;
                        let day = myDate.getDate();
                        myDate = month + '-' + day + '-' + years;
                        if(uniqueUserId !== likerUniqueUserId) {
                            let newNotification = {
                                senderUsername: likerUsername,
                                msg: likerUsername + ' liked your event',
                                uniqueSenderId: likerUniqueUserId,
                                notificationType: 'eventLike',
                                noticationDate: myDate,
                                notificationUtcTime: parseInt(Date.now()),
                                uniqueNotificationId: 'notification' + likerUniqueUserId + likerUsername + Date.now(),
                                link: '/linkkup/events' + uniqueEventId,
                            };

                            User.updateOne({uniqueUserId: uniqueUserId}, {$push: {notifications: newNotification}}, (err, result) => {
                                if(err) {
                                    console.log('There was an error notifying a user when someone liked their event');
                                    console.log(err.message);
                                    res.status(500).send('error');
                                }
                                else {
                                    Event.find({}, (err, events) => {
                                        if(err) {
                                            console.log('There was an error sending an events back to the client after an event was liked');
                                            console.log(err.message);
                                            res.status(500).send('error');
                                        }
                                        else {
                                            events = _.sortBy(events, event => event.utcTime);
                                            res.status(200).json({events: events});
                                        }
                                    });
                                }
                            });
                        }
                        else {
                            Event.find({}, (err, events) => {
                                if(err) {
                                    console.log('There was an error sending events back to the client after they liked an event!');
                                    console.log(err.message);
                                    res.status(500).send('error');
                                }
                                else {
                                    events = _.sortBy(events, event => event.utcTime);
                                    res.status(200).json({events: events});
                                }
                            });
                        }
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error when a user tried to like an event!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//---------------------------------------------------------------------------------------------------------------------------------
//The route below will handle unliking an event 
app.post('/api/unlike/event', (req, res) => {
    let uniqueUserId = req.body.uniqueUserId;
    let uniqueEventId = req.body.uniqueEventId;
    let unlikerUniqueUserId = req.body.unlikerUniqueUserId;
    
    try {
        Event.findOne({uniqueEventId: uniqueEventId}, (err, event) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                event.likes = _.reject(event.likes, liker => liker.uniqueUserId === unlikerUniqueUserId);
                event.save(err => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        User.updateOne({uniqueUserId: uniqueUserId}, {$inc: {karma: -1}}, (err, result) => {
                            if(err) {
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                Event.find({}, (err, events) => {
                                    if(err) {
                                        console.log(err.message);
                                        res.status(500).send('error');
                                    }
                                    else {
                                        events = _.sortBy(events, event => event.utcTime);
                                        res.status(200).json({events: events});
                                    }
                                });
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to unlike an event');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------
//The route below will be responsible for deleting an event from the database 
app.post('/api/del/event', (req, res) => {
    let uniqueEventId = req.body.uniqueEventId;
    let src = req.body.src;

    try {
        Event.deleteOne({uniqueEventId: uniqueEventId}, (err, result) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                gfs.remove({ filename: src, root: 'uploads' }, (err, gridStore) => {
                    if (err) {
                        console.log('Error deleting file from GridFs when user tried to delete a media post');
                        console.log(err);
                        res.status(500).send('error');
                    }
                    else {
                        Event.find({}, (err, events) => {
                            if(err) {
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else if(events.length === 0) {
                                res.status(200).json({events: []});
                            }
                            else {
                                events = _.sortBy(events, event => event.utcTime);
                                res.status(200).json({events: events});
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log(err.message);
        res.status(500).send('error');
    }
});
//-----------------------------------------------------------------------------------------------------------------------------------
//The route below will handle signing up a user to attend an event 
app.post('/api/attend/event', (req, res) => {
    let uniqueUserId = req.body.uniqueUserId;
    let uniqueEventId = req.body.uniqueEventId;
    let attenderUniqueUserId = req.body.attenderUniqueUserId;

    try {
        User.findOne({uniqueUserId: attenderUniqueUserId}, (err, user) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                let newAttender = {
                    username: user.username,
                    uniqueUserId: user.uniqueUserId,
                };
                
                Event.updateOne({uniqueEventId: uniqueEventId}, {$push: {attending: newAttender}}, (err, result) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        if(uniqueUserId !== user.uniqueUserId) {
                            let newDate = new Date();
                            let month = newDate.getMonth() + 1;
                            let day = newDate.getDate();
                            let year = newDate.getFullYear();
                            let myDate = month + '-' + day + '-' + year;
                            let newNotification = {
                                username: user.username,
                                uniqueUserId: user.uniqueUserId,
                                msg: 'is attending your event',
                                type: 'attendingEvent',
                                dateString: myDate,
                                utcTime: parseInt(Date.now()),
                                text: user.username + ' is attending your event',
                                uniqueNotificationId: 'notification' + user.username + user.uniqueUserId + Date.now(),
                                link: '/linkkup/events/' + uniqueEventId,
                            };

                            User.updateOne({uniqueUserId: uniqueUserId}, {$push: {notifications: newNotification}}, (err, result) => {
                                if(err) {
                                    console.log(err.message);
                                    res.status(500).send('error');
                                }
                                else {
                                    Event.find({}, (err, events) => {
                                        if(err) {
                                            console.log(err.message);
                                            res.status(500).send('error');
                                        }
                                        else {
                                            events = _.sortBy(events, event => event.utcTime);
                                            res.status(200).send({events: events});
                                        }
                                    });
                                }
                            });
                        }
                        else {
                            Event.find({}, (err, events) => {
                                if(err) {
                                    console.log(err.message);
                                    res.status(500).send('error');
                                }
                                else {
                                    events = _.sortBy(events, event => event.utcTime);
                                    res.status(200).json({events: events});
                                }
                            });
                        }
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to get a user to attend an event!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------------
//The route below will handle getting a user to unattend an event 
app.post('/api/unattend/event', (req, res) => {
    let uniqueEventId = req.body.uniqueEventId;
    let unattender = req.body.unattender;

    try {
        Event.findOne({uniqueEventId: uniqueEventId}, (err, event) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                event.attending = _.reject(event.attending, attender => attender.uniqueUserId === unattender);
                event.save(err => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        Event.find({}, (err, events) => {
                            if(err) {
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                events = _.sortBy(events, event => event.utcTime);
                                res.status(200).json({events: events});
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to unattend an event');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//------------------------------------------------------------------------------------------------------------------------------
//The route below will fetch the users who are attending an event 
app.get('/api/fetch/attenders/:event', (req, res) => {
    let uniqueEventId = req.params.event;
    
    try {
        Event.findOne({uniqueEventId: uniqueEventId}, (err, event) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                let attenders = event.attending;
                res.status(200).json({attenders: attenders});
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to fetch the users who are attending an event!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//----------------------------------------------------------------------------------------------------------------------------
//The route below will alter a users' first name 
app.post('/api/change/firstname', (req, res) => {
    let firstName = req.body.firstName;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {firstName: firstName}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s first name!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//---------------------------------------------------------------------------------------------------------------------------------
//The route below will update a users' last name 
app.post('/api/change/lastname', (req, res) => {
    let lastName = req.body.lastName;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {lastName: lastName}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s last name!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//--------------------------------------------------------------------------------------------------------------------------------
//The route below will handle updating a users' password 
app.post('/api/change/password', (req, res) => {
    let password = req.body.password;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {password: password}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s password!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//-------------------------------------------------------------------------------------------------------------------------------
//The route below will update a users' email address 
app.post('/api/change/major', (req, res) => {
    let major = req.body.major;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {major: major}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s major!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//-------------------------------------------------------------------------------------------------------------------------------
//The route below will change a users' year in school 
app.post('/api/change/year', (req, res) => {
    let year = req.body.year;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {schoolYear: year}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s school year!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//------------------------------------------------------------------------------------------------------------------------------
//The route below will alter a users' major 
app.post('/api/change/email', (req, res) => {
    let email = req.body.email;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {email: email}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s email!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//-------------------------------------------------------------------------------------------------------------------------------
//The route will update a users' interests 
app.post('/api/change/interests', (req, res) => {
    let interests = req.body.interests;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {interests: interests}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s interests!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//-------------------------------------------------------------------------------------------------------------------------------
//The Route below will handle updating a users' fraternity 
app.post('/api/change/fraternity', (req, res) => {
    let fraternity = req.body.fraternity;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {fraternity: fraternity}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s fraternity!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//------------------------------------------------------------------------------------------------------------------------------
//The route below will alter a sorority 
app.post('/api/change/sorority', (req, res) => {
    let sorority = req.body.sorority;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {sorority: sorority}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s sorority!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//------------------------------------------------------------------------------------------------------------------------------
//The route below will alter a users' instagram handle 
app.post('/api/change/instagram', (req, res) => {
    let instagram = req.body.instagram;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {instagramHandle: instagram}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s instagram handle!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//-------------------------------------------------------------------------------------------------------------------------------
//The route below will alter a users' twitter handle 
app.post('/api/change/youtube', (req, res) => {
    let youtube = req.body.youtube;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {youtubeChannel: youtube}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s youtube channel!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//--------------------------------------------------------------------------------------------------------------------------------
//The route below will handle a user changing their sport 
app.post('/api/change/sport', (req, res) => {
    let sport = req.body.sport;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {sport: sport}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s sport!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//---------------------------------------------------------------------------------------------------------------------------------
//The route below will update a users' bio 
app.post('/api/change/bio', (req, res) => {
    let bio = req.body.bio;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {bio: bio}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s bio!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//--------------------------------------------------------------------------------------------------------------------------------
//The route below will handle updating a users' youtube channel 
app.post('/api/change/twitter', (req, res) => {
    let twitter = req.body.twitter;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {twitterHandle: twitter}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s twitter handle!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//---------------------------------------------------------------------------------------------------------------------------------
//The route below will handle altering a users' profile theme color 
app.post('/api/change/theme', (req, res) => {
    let theme = req.body.theme;
    let uniqueUserId = req.body.uniqueUserId;

    try {
        User.updateOne({uniqueUserId: uniqueUserId}, {$set: {profileTheme: theme}}, (err, response) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        res.status(200).json({user: user});
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update a users\'s profile theme color!');
        console.log(err.message);
        res.status(500).send('error');
    }

});
//--------------------------------------------------------------------------------------------------------------------------------
//The route below will alter a users' avatar image 
app.post('/api/change/avatar', uploads.single('avatar'), (req, res) => {
    let uniqueUserId = req.body.uniqueUserId;
    let oldAvatar = req.body.oldAvatar;
    let avatar = req.file.filename;

    try {
        gfs.remove({ filename: oldAvatar, root: 'uploads' }, (err, gridStore) => {
            if (err) {
                console.log('Error deleting file from GridFs when user tried to delete a media post');
                console.log(err);
                res.status(500).send('error');
            }
            else {
                User.updateOne({uniqueUserId: uniqueUserId}, {$set: {avatar: avatar}}, (err, result) => {
                    if(err) {
                        console.log(err.message);
                        res.status(500).send('error');
                    }
                    else {
                        User.findOne({uniqueUserId: uniqueUserId}, (err, user) => {
                            if(err) {
                                console.log(err.message);
                                res.status(500).send('error');
                            }
                            else {
                                res.status(200).json({user: user});
                            }
                        });
                    }
                });
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to update an avatar image!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------
//The route below will fetch events for a specific user 
app.get('/api/fetch/events/:uniqueuserid', (req, res) => {
    let uniqueUserId = req.params.uniqueuserid;

    try {
        Event.find({uniqueUserId: uniqueUserId}, (err, events) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                events = _.sortBy(events, event => event.utcTime);
                res.status(200).json({events: events});
            }
        });
    }
    catch(err) {
        console.log(err.message);
        res.status(500).send('error');
    }
});
//--------------------------------------------------------------------------------------------------------------------------------
//The route below will fetch events based on username 
app.get('/api/fetch/events/username/:username', (req, res) => {
    let username = req.params.username;
    try {
        Event.find({username: username}, (err, events) => {
            events = _.sortBy(events, event => event.utcTime);
            res.status(200).json({events: events});
        });
    }
    catch(err) {
        console.log(err.message);
        res.status(500).send('error');
    }
});
//-------------------------------------------------------------------------------------------------------------------------------
//The route below will handle fetching the posts from the database to the feed 
app.get('/api/fetch/feed', (req, res) => {
    try {
        Post.find({}, (err, posts) => {
            if(err) {
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                posts = _.sortBy(posts, post => -post.utcTime);
                res.status(200).json({posts: posts});
            }
        });
    }
    catch(err) {
        console.log('We CAUGHT an error trying to fetch all of the posts from the linkkup feed!');
        console.log(err.message);
        res.status(500).send('error');
    }
});
//-------------------------------------------------------------------------------------------------------------------------------
//The route below will handle sending data to the linkkup email address from the contact page 
app.post('/api/contact', (req, res) => {
    let inquiry = req.body.inquiry;
    let email = req.body.email;
    let msg = `The email address is: ${email}\n\n The inquiry is:\n${inquiry}`;

    let mailOptions = {
        from: 'linkkupapp@gmail.com',
        to: 'sikudabo@alumni.iu.edu',
        subject: 'Someone set a contact email for Linkkup',
        text: msg,
    };

    transporter.sendMail(mailOptions, (err, info) => {
        if(err) {
            console.log(err.message);
            res.status(500).send('error');
        }
        else {
            console.log(info.response);
            res.status(200).send('success');
        }
    });
});
//-------------------------------------------------------------------------------------------------------------------------------
//The route below will handle getting the email of a user who forgot their username or passsword and sending it to the linkkup account 
app.post('/api/forgot/credentials', (req, res) => {
    let email = req.body.email; 
    let mailOptions =  {
        from: 'linkkupapp@gmail.com',
        to: 'sikudabo@alumni.iu.edu',
        subject: 'A User Forgot Their Username Or Password On Linkkup!!!',
        text: `The Email Of The User Who Forgot Their Passwors Or Username Is:\n${email}`,
    };

    try {
        transporter.sendMail(mailOptions, (err, info) => {
            if(err) {
                console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!');
                console.log('There Was An Error Sending A Users Email Address To The Linkkup Email Address When They Forgot Their Username Or Password!!!');
                console.log(err.message);
                res.status(500).send('error');
            }
            else {
                console.log(info.response);
                res.status(200).send('success');
            }
        });
    }
    catch(err) {
        console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!');
        console.log('There Was An Error Getting A Users Email And Sending It To The Linkkup Email Address When They Forgot Their Password!!');
        res.status(500).send('error');
    }
});
//---------------------------------------------------------------------------------------------------------------------------------
//The route will handle fetching all of the songs from the server-side code 
app.get('/api/fetch/music', (req, res) => {
    res.status(200).json({songs: songs});
});
//---------------------------------------------------------------------------------------------------------------------------------
//The route below will handle fetching the code for a song from the server for the client to play the sound cloud iFrame
app.get('/api/fetch/song/:id', (req, res) => {
    let index = parseInt(req.params.id);
    let code = songs[index].code;
    res.status(200).json({code: code});
});
//----------------------------------------------------------------------------------------------------------------------------------
//The code below doesn't exist the process 
process.on('uncaughtException', err => {
    console.log(`Uncaught Exception: ${err.message}`)
});

const server = http.createServer(app).listen(app.get('port'), () => {
    console.log(`Listening On Port ${app.get('port')}`);
});

const io = require('socket.io').listen(server);

io.on('connection', socket => {
    console.log('Connected to socket ' + socket.id);

    socket.on('disconnect', () => {
        console.log('Socket ' + socket.id + ' disconnected');
    });

    socket.on('joinRoom', data => {
        console.log(`${data.username} has joined ${data.room} chat`);
        let room = data.room;
        socket.join(room);
        io.to(room).emit('userJoined', {
            username: data.username,
        });
    });
    
    socket.on('sendMsg', data => {
        console.log(`${data.username} said: ${data.msg}`);
        //Now We Can Store This Data In MongoDB 
        let newMsg = {
            username: data.username,
            uniqueUserId: data.uniqueUserId,
            dateString: data.dateString,
            utcTime: parseInt(data.utcTime),
            uniqueMessageId: data.uniqueMessageId,
            community: data.community,
            room: data.room,
            text: data.msg,
        };
        Community.findOne({name: data.community}, (err, community) => {
            if(err) {
                console.log(err.message);
            }
            else {
                community.chatRoom.messages.push(newMsg);
                community.save(err => {
                    if(err) {
                        console.log(err.message);
                    }
                    else {
                        console.log('The community we are emmitting the message back to is', data.community);
                        io.to(data.community).emit('newMsg', {
                            username: data.username,
                            uniqueUserId: data.uniqueUserId,
                            dateString: data.dateString,
                            utcTime: data.utcTime,
                            uniqueMessageId: data.uniqueMessageId,
                            community: data.community,
                            room: data.room,
                            msg: data.msg,
                        });
                    }
                });
            }
        });
    });
    socket.on('leaveRoom', data => {
        socket.leave(data.room);
        io.to(data.room).emit('userLeft', {
            username: data.username,
        });
    });
});
//------------------------------------------------------------------------------------------------------------